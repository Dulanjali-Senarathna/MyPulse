<!--
  Generated template for the PairedDevicesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="dark">
    <ion-row class="r-modal-header">
      <ion-col class="header-text">Bluetooth Scanning</ion-col>
      <ion-col class="header-spinner"><ion-spinner *ngIf="loading" name="circles"></ion-spinner></ion-col>
    </ion-row>
  </ion-navbar>
</ion-header>
<ion-content padding>
  <ion-grid class="grid-content">
    <ion-row class="text-black" [ngClass]="{'warn': searchResult.type === 'warn'}">
      <ion-icon name="alert"></ion-icon>{{searchResult.message}}
    </ion-row>
    <ion-row>
      <ion-col class="panel-text">PAIRED DEVICES</ion-col>
    </ion-row>

    <ion-row class="panel" *ngFor="let device of pairedDevices" (click)="connectDevice(device)">
      <div ><ion-icon class="panel-icon" name="bluetooth"></ion-icon></div>
      <div class="flx-1" [ngClass]="{'dev-connected': device['connected']}">{{device.name}}</div>
      <div>{{device.id}}</div>
    </ion-row>

    <ion-row>
      <ion-col class="panel-text">AVAILABLE DEVICES</ion-col>
    </ion-row>
    <ion-row class="panel" *ngFor="let device of availableDevices" (click)="connectDevice(device)">
      <div col-1>
        <ion-icon class="panel-icon" name="bluetooth"></ion-icon></div>
      <div class="flx-1">{{device.name}}</div>
      <div>{{device.id}}</div>
    </ion-row>
  </ion-grid>
  <!--
  <ion-col><button ion-button (click)="turnOnBluetooth()" class="bluetooth-btn"><ion-icon name="bluetooth"></ion-icon></button></ion-col>
-->
</ion-content>
<ion-footer>
  <ion-grid>
    <ion-row>
      <ion-col class="panel-btn-group">
        <!--<button ion-button (click)="startListening()">START</button>-->
        <button ion-button (click)="searchDevices()" class="scan-btn">SCAN</button>
        <button ion-button (click)="closeModal()" color="dark">DONE</button>
      </ion-col>
    </ion-row></ion-grid>
</ion-footer>
